<?php if(!is_callable(array('sfPropelDatabaseSchema', 'loadNewYaml'))) throw new Exception('You must install the sfPropelAlternativeSchemaPlugin to use the sfSimpleForum') ?>
classes:
  sfSimpleForumCategory:
    package:         plugins.sfSimpleForumPlugin.lib.model
    columns:
      id:
      name:          varchar(255)
      stripped_name: varchar(255)
      description:   longvarchar
      rank:          integer
      created_at:
    
  sfSimpleForumForum:
    package:         plugins.sfSimpleForumPlugin.lib.model
    columns:
      id:
      name:          varchar(255)
      description:   longvarchar
      rank:          integer
      category_id:   { type: integer, foreignClass: sfSimpleForumCategory, foreignReference: id, onDelete: cascade }
      created_at:
      updated_at:
      # performance enhancers
      stripped_name: { type: varchar, size: 255, index: unique }
      latest_post_id: { type: integer, foreignClass: sfSimpleForumPost, foreignReference: id, onDelete: setnull }
      nb_posts:      bigint
      nb_topics:     bigint
    
  sfSimpleForumTopic:
    package:         plugins.sfSimpleForumPlugin.lib.model
    columns:
      id: 
      title:         varchar(255)
      is_sticked:    { type: boolean, default: false }
      is_locked:     { type: boolean, default: false }
      forum_id:      { type: integer, foreignClass: sfSimpleForumForum, foreignReference: id, onDelete: cascade }
      created_at:
      updated_at:
      # performance enhancers
      latest_post_id: { type: integer, foreignClass: sfSimpleForumPost, foreignReference: id, onDelete: setnull }
      user_id:       { type: integer, foreignClass: sfGuardUser, foreignReference: id, onDelete: setnull }
      stripped_title: varchar(255)
      nb_posts:      { type: bigint, default: 0 }
      nb_views:      { type: bigint, default: 0 }
    
  sfSimpleForumPost:
    package:         plugins.sfSimpleForumPlugin.lib.model
    columns:
      id: 
      title:         varchar(255)
      content:       longvarchar
      topic_id:      { type: integer, foreignClass: sfSimpleForumTopic, foreignReference: id, onDelete: cascade } 
      user_id:       { type: integer, foreignClass: sfGuardUser, foreignReference: id, onDelete: cascade }
      created_at:
      # performance enhancers
      forum_id:      { type: integer, foreignClass: sfSimpleForumForum, foreignReference: id, onDelete: cascade }
      author_name:   varchar(255)
    
  sfSimpleForumTopicView:
    package:         plugins.sfSimpleForumPlugin.lib.model
    columns:
      user_id:       { type: integer, foreignClass: sfGuardUser, foreignReference: id, onDelete: cascade, primaryKey: true }
      topic_id:      { type: integer, foreignClass: sfSimpleForumTopic, foreignReference: id, onDelete: cascade, primaryKey: true }
      created_at: